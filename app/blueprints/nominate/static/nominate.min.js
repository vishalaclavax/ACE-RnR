function select_employee_popup(e){$("#cont #exampleModal #selecttheemployee").show(),$("#cont #exampleModal #selectable").hide(),$("#cont #exampleModal").css("visibility","visible"),$("#cont").show()}function select_award(e){$("#cont #exampleModal #selecttheemployee").hide(),$("#cont #exampleModal #selectable").show(),$("#cont #exampleModal").css("visibility","visible"),$("#cont").show()}function change_nominate_status(e,a,t,s,l,o){var r="";data={transaction_id:a,status:t,award_type:s,statusval:l,hrstatus:o},confirm(r="approve"==t?"Do you want to approve ?":"Do you want to reject ?")&&$.ajax({url:app_base_url+"nominate/change-nominate-status",type:"post",dataType:"json",cache:!1,headers:{"X-CSRFToken":csrf_token},data:data,beforeSend:function(){$(".loaderbox").show()},success:function(e){$(".loaderbox").hide(),0==e.error?($.growl.notice({title:"Status ",message:e.msg,size:"large"}),window.location.reload()):$.growl.error({title:"Status ",message:e.msg,size:"large"})},complete:function(){$(".loaderbox").hide()}})}$(document).ready(function(){$(document).on("keyup","#employeeSearch",function(){var e=$(this).val().toLowerCase();$(".employee_name, .employee_email").each(function(){(string=$(this).text().toLowerCase()).includes(e)?($(this).closest(".employeeDetails").show(),$(this).closest(".employeeDetails").addClass("show"),$(this).closest(".employeeDetails").removeClass("hide")):($(this).closest(".employeeDetails").hide(),$(this).closest(".employeeDetails").removeClass("show"),$(this).closest(".employeeDetails").addClass("hide"))})}),$(document).on("click","#showselectareward",function(){var e="",a="",t="",s="";if($(".employeeDetails .selectedborder").each(function(){var l=$(this).find(".employee_name").text(),o=$(this).find(".employee_email").text(),r=$(this).find(".manager").text(),i=$(this).find(".manager_email").text();r=r.replace("Manager-","").trim(),e=e+","+l,a=a+","+o,t=t+","+r,s=s+","+i}),e=e.replace(/(^,)|(,$)/g,""),a=a.replace(/(^,)|(,$)/g,""),t=t.replace(/(^,)|(,$)/g,""),s=s.replace(/(^,)|(,$)/g,""),$("#emp_name").val(e),$("#emp_email").val(a),$("#emp_manager").val(t),$("#emp_manager_email").val(s),""!=$("#emp_email").val()){$("#selecttheemployee").hide(),$("#selectable").show();for(var l=e.split(","),o=a.split(","),r=t.split(","),i=s.split(","),n="",d=0;d<l.length;d++){var c=l[d],m=o[d],w=r[d];i[d],n=n+'<div class="col-sm-4"><a href="javascript:void(0)" style="cursor:default;"><div class="fullbox"><div class="empimagebox"><img src="/static/img/add_employee.png" width="50"></div><div class="empdetailsbox"><h6 class="empName">'+c+'</h6><p class="empEmail" title="'+m+'">'+m+'</p><p class="empManager">'+w+"</p></div></div></a></div>"}$("#selectedEmpSection").html(n),$("#selectedEmpTxt").text(e),$("#emp_email-error").remove(),$("#selectEmpSection").hide()}else $("#selectEmpSection").show(),$("#selectedEmpSection").hide(),$("#selecttheemployee .message").html('<div class="alert alert-danger">Please Select an Employee !</div>'),window.setTimeout(function(){$("#selecttheemployee .message").html("")},2e3)}),$(document).on("click",".rewardImage",function(){var e=$(this).attr("src");$("#setRewardImge").attr("src",e),$("#rewardImg").val(e),$("#setRewardImge").parent().addClass("reselected")}),$(document).on("click",".rawardbox",function(){var e=$(".reward_a",this).data("title"),a=$(".reward",this).text();$("#reward").val(a),$("#selectedAwardTxt").text(a),$("#rewardName").text(a),"well done award"==e.toLowerCase()||"well done"==e.toLowerCase()||"bravo award"==e.toLowerCase()||"bravo"==e.toLowerCase()||"rise & shine"==$("#reward").val().toLowerCase()?$("#showOtherFields").hide():$("#showOtherFields").show(),$("#reward-error").remove()}),$("#nomination_form").validate({ignore:[],rules:{emp_email:{required:!0},reward:{required:!0},citation_msg:{required:!0},achievement:{required:function(){return"well done award"!=$("#reward").val().toLowerCase()&&"well done"!=$("#reward").val().toLowerCase()&&"bravo"!=$("#reward").val().toLowerCase()&&"rise & shine"!=$("#reward").val().toLowerCase()}},business_impact:{required:function(){return"well done award"!=$("#reward").val().toLowerCase()&&"well done"!=$("#reward").val().toLowerCase()&&"bravo"!=$("#reward").val().toLowerCase()&&"rise & shine"!=$("#reward").val().toLowerCase()}},assignment_challenges:{required:function(){return"well done award"!=$("#reward").val().toLowerCase()&&"well done"!=$("#reward").val().toLowerCase()&&"bravo"!=$("#reward").val().toLowerCase()&&"rise & shine"!=$("#reward").val().toLowerCase()}},benefit:{required:function(){return"well done award"!=$("#reward").val().toLowerCase()&&"well done"!=$("#reward").val().toLowerCase()&&"bravo"!=$("#reward").val().toLowerCase()&&"rise & shine"!=$("#reward").val().toLowerCase()}}},messages:{emp_email:{required:"Please select an Employee!"},reward:{required:"Please select an Award!"},citation_msg:{required:"Please write Citation Message!"},achievement:{required:"Please write Achievement!"},business_impact:{required:"Please write Business Impact!"},assignment_challenges:{required:"Please wirte Assignment Challenges!"},benefit:{required:"Please write Benefit!"}},errorPlacement:function(e,a){console.log(a.attr("id")),"emp_email"==a.attr("id")?e.insertAfter(a.closest(".recongnizebox").find("#empSelectBox .rselectboxes")):"reward"==a.attr("id")?e.insertAfter(a.closest(".recongnizebox").find("#awardSelectBox .rselectboxes")):e.insertAfter(a)},submitHandler:function(){$.ajax({url:app_base_url+"nominate/save/",type:"post",dataType:"json",cache:!1,data:$("#nomination_form").serialize(),beforeSend:function(){$(".loaderbox").show()},success:function(e){$(".loaderbox").hide(),0==e.error?window.location.href=e.redirect_url:$.growl.notice({title:"Nominate ",message:e.msg,size:"large"})},complete:function(){$(".loaderbox").hide()}})}}),$(document).on("click","#closeNominateBox",function(){$("#cont").hide(),$("#cont #exampleModal #selecttheemployee").hide(),$("#cont #exampleModal #selectable").hide(),$("#cont #exampleModal").css("visibility","hidden")}),$(document).on("click","#closeNominateBoxNext",function(){""!=$("#rewardImg").val()?($("#cont").hide(),$("#cont #exampleModal #selecttheemployee").hide(),$("#cont #exampleModal #selectable").hide(),$("#cont #exampleModal").css("visibility","hidden")):($("#selectable .message").html('<div class="alert alert-danger">Please Select an Award !</div>'),window.setTimeout(function(){$("#selectable .message").html("")},2e3))}),$(document).on("click",".rempselected",function(){$(".employeeDetails .selectedborder").length>8?$.growl.error({title:"Employee ",message:"You can select maximum 9 employee!",size:"large"}):$(this).hasClass("selectedborder")?$(this).removeClass("selectedborder"):$(this).addClass("selectedborder")}),$(document).on("click",".rawardselected",function(){$(".rawardselected").removeClass("selectedborder"),$(this).addClass("selectedborder")}),$(document).on("click",".change_status",function(){console.log("hi");var e=$("#approve").val(),a=$("#reject").val();console.log("hello"),""!=e?console.log(e,"action"):console.log(a,"reaction")})});